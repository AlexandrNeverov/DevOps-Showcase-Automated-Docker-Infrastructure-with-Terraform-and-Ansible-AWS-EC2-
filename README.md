# 🧰 DevOps Showcase: Automated Docker Infrastructure with Terraform & Ansible on AWS EC2

![Admin Terraform Bootstrap EC2 Demo](https://raw.githubusercontent.com/AlexandrNeverov/DevOps-Showcase-Automated-Docker-Infrastructure-with-Terraform-and-Ansible-AWS-EC2-/main/image.png)

[![Terraform](https://img.shields.io/badge/Terraform-Infrastructure--as--Code-623CE4?style=for-the-badge&logo=terraform&logoColor=white)](https://github.com/AlexandrNeverov/terraform_docker_setup)
[![Ansible](https://img.shields.io/badge/Ansible-Provisioning--Automation-EE0000?style=for-the-badge&logo=ansible&logoColor=white)](https://github.com/AlexandrNeverov/ansible_docker_setup)
[![Docker](https://img.shields.io/badge/Docker-Container--Stack-2496ED?style=for-the-badge&logo=docker&logoColor=white)](https://www.docker.com/)
[![Vault](https://img.shields.io/badge/Vault-Secure--Secrets-000000?style=for-the-badge&logo=vault&logoColor=white)](https://www.vaultproject.io/)

> Full-stack automation of cloud infrastructure for DevOps labs, demos, and real-world testing — powered by Terraform + Ansible + Docker + Vault on AWS EC2.

---

## 🚦 Why This Matters

Provisioning secure, production-like DevOps environments from scratch is time-consuming and error-prone — it often requires:

- Manual EC2 setup with IAM roles  
- Terraform backend configuration  
- Docker + Compose + Swarm installation  
- Vault service setup  
- SSH key and inventory generation for Ansible  
- And more…

This project automates **the entire process** via structured shell scripts that run in sequence — from tools setup to deployment. You get:

- 🖥️ EC2 instance provisioned with IAM role  
- 🔐 Terraform remote backend in S3 + DynamoDB  
- 🐳 Docker + Compose + Portainer installed  
- 🧰 Vault configured as a systemd service  
- 📦 Ansible playbook run via generated inventory  
- 🌐 Final URL to access Portainer UI and SSH-ready access  

---

## ✅ Features

• 🚀 End-to-end DevOps stack provisioning from zero
• 📦 Terraform project auto-cloned and applied with backend setup
• 🌐 Public IP fetched dynamically from terraform outputs
• 🔐 Vault installation with HCL config and secure service startup
• 🐳 Docker CE + Compose + Swarm + Portainer provisioned via Ansible
• 🧩 Inventory auto-generated from Terraform output
• 🔑 SSH key setup and reuse across layers
• 📂 Project structure: ~/projects/{terraform, ansible}
• 🧵 Modular shell scripts per layer: tools, terraform, ansible, vault

---

## 🛠️ Setup Workflow

| Step | Description |
|------|-------------|
| `setup_zero_node_tools.sh` | Installs base CLI tools (jq, unzip, python, AWS CLI, etc.) |
| `hcl_vault.sh` | Installs Vault and runs it as a systemd service |
| `setup_zero_terraform.sh` | Installs Terraform and required binaries |
| `terraform.sh` | Clones Terraform project, updates backend bucket, applies infra |
| `ansible.sh` | Clones Ansible playbook, builds inventory, runs Docker+Swarm provisioning |

---

## 🧪 How It Works

```bash
# Run all provisioning layers
curl -fsSL https://raw.githubusercontent.com/AlexandrNeverov/DevOps-Showcase-Automated-Docker-Infrastructure-with-Terraform-and-Ansible-AWS-EC2-/main/boot/setup_all.sh | bash
```

📝 Notes
	•	Requires an existing S3 bucket name in ~/projects/s3_bucket.txt
	•	IAM permissions required: EC2, S3, DynamoDB, IAM, etc.
	•	Assumes Ubuntu-based EC2 AMI (ami-04b4f1a9cf54c11d0 by default)
	•	SSH key should be generated by Terraform or pre-existing at ~/.ssh/zero-node-key

🔗 Related Repos
	•	terraform_docker_setup – Terraform EC2 + backend
	•	ansible_docker_setup – Docker, Swarm & Portainer via Ansible

 ### 🚀 Quick Start


0. To Install Docker via one command from scratch use following:
```bash
curl -v https://raw.githubusercontent.com/AlexandrNeverov/DevOps-Showcase-Automated-Docker-Infrastructure-with-Terraform-and-Ansible-AWS-EC2-/refs/heads/main/boot/setup_all.sh | bash - 
```

Deatails:

1. Create a Zero-Node (zero_node_aws.sh):
```bash
curl -v https://raw.githubusercontent.com/AlexandrNeverov/zero-node-stack-full/refs/heads/main/boot/create_zero_node_aws.sh | bash -
```

3. Install DevOps Tool-Kit (setup_zero_node_tools.sh):
```bash
curl -v https://raw.githubusercontent.com/AlexandrNeverov/zero-node-stack-full/refs/heads/main/boot/setup_zero_node_tools.sh | bash - 
```

4. Create HCL Vault (hcl_vault.sh):
```bash
curl -v https://raw.githubusercontent.com/AlexandrNeverov/zero-node-stack-full/refs/heads/main/boot/hcl_vault.sh | bash -
```

4. Install Terraform:
```bash
curl -v https://raw.githubusercontent.com/AlexandrNeverov/zero-node-stack-full/refs/heads/main/boot/setup_zero_terraform.sh | bash -
```

5. Make a Docker-Node:
```bash
curl -v https://raw.githubusercontent.com/AlexandrNeverov/DevOps-Showcase-Automated-Docker-Infrastructure-with-Terraform-and-Ansible-AWS-EC2-/refs/heads/main/boot/docker.sh | bash -
```

6. Install and setup Ansible:
```bash
curl -v https://raw.githubusercontent.com/AlexandrNeverov/zero-node-stack-full/refs/heads/main/boot/setup_zero_ansible.sh | bash - 
```

---

## 📄 License

MIT – free to use, modify, share.

---

## 👨‍💻 Author

**Alex Neverov**  
Platform Engineer · DevOps Engineer · Cloud & Infrastructure Automation · Industry PhD

- **GitHub:** [AlexandrNeverov](https://github.com/AlexandrNeverov)  
- **LinkedIn:** [linkedin.com/in/alexneverov](https://www.linkedin.com/in/alexneverov)  
- **Upwork:** [upwork.com/freelancers/~01c616035669bbf379](https://www.upwork.com/freelancers/~01c616035669bbf379)  
- **Website:** [neverov-it.com](https://neverov-it.com) · [neverov-science.com](https://neverov-science.com)  
- **Email:** [alex@neverov-it.com](mailto:alex@neverov-it.com) · [nev.al.vic@gmail.com](mailto:nav.al.vic@.com)
- **Phone:** +1 (754) 236‑5715

 

