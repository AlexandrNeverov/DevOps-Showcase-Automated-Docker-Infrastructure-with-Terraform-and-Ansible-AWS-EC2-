# ğŸ§° DevOps Showcase: Automated Docker Infrastructure with Terraform & Ansible on AWS EC2

![Admin Terraform Bootstrap EC2 Demo](https://raw.githubusercontent.com/AlexandrNeverov/DevOps-Showcase-Automated-Docker-Infrastructure-with-Terraform-and-Ansible-AWS-EC2-/main/image.png)

[![Terraform](https://img.shields.io/badge/Terraform-Infrastructure--as--Code-623CE4?style=for-the-badge&logo=terraform&logoColor=white)](https://github.com/AlexandrNeverov/terraform_docker_setup)
[![Ansible](https://img.shields.io/badge/Ansible-Provisioning--Automation-EE0000?style=for-the-badge&logo=ansible&logoColor=white)](https://github.com/AlexandrNeverov/ansible_docker_setup)
[![Docker](https://img.shields.io/badge/Docker-Container--Stack-2496ED?style=for-the-badge&logo=docker&logoColor=white)](https://www.docker.com/)
[![Vault](https://img.shields.io/badge/Vault-Secure--Secrets-000000?style=for-the-badge&logo=vault&logoColor=white)](https://www.vaultproject.io/)

> Full-stack automation of cloud infrastructure for DevOps labs, demos, and real-world testing â€” powered by Terraform + Ansible + Docker + Vault on AWS EC2.

---

## ğŸš¦ Why This Matters

Provisioning secure, production-like DevOps environments from scratch is time-consuming and error-prone â€” it often requires:

- Manual EC2 setup with IAM roles  
- Terraform backend configuration  
- Docker + Compose + Swarm installation  
- Vault service setup  
- SSH key and inventory generation for Ansible  
- And moreâ€¦

This project automates **the entire process** via structured shell scripts that run in sequence â€” from tools setup to deployment. You get:

- ğŸ–¥ï¸ EC2 instance provisioned with IAM role  
- ğŸ” Terraform remote backend in S3 + DynamoDB  
- ğŸ³ Docker + Compose + Portainer installed  
- ğŸ§° Vault configured as a systemd service  
- ğŸ“¦ Ansible playbook run via generated inventory  
- ğŸŒ Final URL to access Portainer UI and SSH-ready access  

---

## âœ… Features

â€¢ ğŸš€ End-to-end DevOps stack provisioning from zero
â€¢ ğŸ“¦ Terraform project auto-cloned and applied with backend setup
â€¢ ğŸŒ Public IP fetched dynamically from terraform outputs
â€¢ ğŸ” Vault installation with HCL config and secure service startup
â€¢ ğŸ³ Docker CE + Compose + Swarm + Portainer provisioned via Ansible
â€¢ ğŸ§© Inventory auto-generated from Terraform output
â€¢ ğŸ”‘ SSH key setup and reuse across layers
â€¢ ğŸ“‚ Project structure: ~/projects/{terraform, ansible}
â€¢ ğŸ§µ Modular shell scripts per layer: tools, terraform, ansible, vault

---

## ğŸ› ï¸ Setup Workflow

| Step | Description |
|------|-------------|
| `setup_zero_node_tools.sh` | Installs base CLI tools (jq, unzip, python, AWS CLI, etc.) |
| `hcl_vault.sh` | Installs Vault and runs it as a systemd service |
| `setup_zero_terraform.sh` | Installs Terraform and required binaries |
| `terraform.sh` | Clones Terraform project, updates backend bucket, applies infra |
| `ansible.sh` | Clones Ansible playbook, builds inventory, runs Docker+Swarm provisioning |

---

## ğŸ§ª How It Works

```bash
# Run all provisioning layers
curl -fsSL https://raw.githubusercontent.com/AlexandrNeverov/DevOps-Showcase-Automated-Docker-Infrastructure-with-Terraform-and-Ansible-AWS-EC2-/main/boot/setup_all.sh | bash
```

ğŸ“ Notes
	â€¢	Requires an existing S3 bucket name in ~/projects/s3_bucket.txt
	â€¢	IAM permissions required: EC2, S3, DynamoDB, IAM, etc.
	â€¢	Assumes Ubuntu-based EC2 AMI (ami-04b4f1a9cf54c11d0 by default)
	â€¢	SSH key should be generated by Terraform or pre-existing at ~/.ssh/zero-node-key

ğŸ”— Related Repos
	â€¢	terraform_docker_setup â€“ Terraform EC2 + backend
	â€¢	ansible_docker_setup â€“ Docker, Swarm & Portainer via Ansible

 ### ğŸš€ Quick Start


0. To Install Docker via one command from scratch use following:
```bash
curl -v https://raw.githubusercontent.com/AlexandrNeverov/DevOps-Showcase-Automated-Docker-Infrastructure-with-Terraform-and-Ansible-AWS-EC2-/refs/heads/main/boot/setup_all.sh | bash - 
```

Deatails:

1. Create a Zero-Node (zero_node_aws.sh):
```bash
curl -v https://raw.githubusercontent.com/AlexandrNeverov/zero-node-stack-full/refs/heads/main/boot/create_zero_node_aws.sh | bash -
```

3. Install DevOps Tool-Kit (setup_zero_node_tools.sh):
```bash
curl -v https://raw.githubusercontent.com/AlexandrNeverov/zero-node-stack-full/refs/heads/main/boot/setup_zero_node_tools.sh | bash - 
```

4. Create HCL Vault (hcl_vault.sh):
```bash
curl -v https://raw.githubusercontent.com/AlexandrNeverov/zero-node-stack-full/refs/heads/main/boot/hcl_vault.sh | bash -
```

4. Install Terraform:
```bash
curl -v https://raw.githubusercontent.com/AlexandrNeverov/zero-node-stack-full/refs/heads/main/boot/setup_zero_terraform.sh | bash -
```

5. Make a Docker-Node:
```bash
curl -v https://raw.githubusercontent.com/AlexandrNeverov/DevOps-Showcase-Automated-Docker-Infrastructure-with-Terraform-and-Ansible-AWS-EC2-/refs/heads/main/boot/docker.sh | bash -
```

6. Install and setup Ansible:
```bash
curl -v https://raw.githubusercontent.com/AlexandrNeverov/zero-node-stack-full/refs/heads/main/boot/setup_zero_ansible.sh | bash - 
```

---

## ğŸ“„ License

MIT â€“ free to use, modify, share.

---

## ğŸ‘¨â€ğŸ’» Author

**Alex Neverov**  
Platform Engineer Â· DevOps Engineer Â· Cloud & Infrastructure Automation Â· Industry PhD

- **GitHub:** [AlexandrNeverov](https://github.com/AlexandrNeverov)  
- **LinkedIn:** [linkedin.com/in/alexneverov](https://www.linkedin.com/in/alexneverov)  
- **Upwork:** [upwork.com/freelancers/~01c616035669bbf379](https://www.upwork.com/freelancers/~01c616035669bbf379)  
- **Website:** [neverov-it.com](https://neverov-it.com) Â· [neverov-science.com](https://neverov-science.com)  
- **Email:** [alex@neverov-it.com](mailto:alex@neverov-it.com) Â· [nev.al.vic@gmail.com](mailto:nav.al.vic@.com)
- **Phone:** +1 (754) 236â€‘5715

 

